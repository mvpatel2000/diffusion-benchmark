run_name: ldm-benchmark
platform: r0z0
gpu_type: a100_40gb
gpu_num: 8
image: mosaicml/pytorch:1.13.1_cu117-python3.10-ubuntu20.04
optimization_level: 0
integrations:
- integration_type: "git_repo"
  git_repo: mosaicml/diffusion-benchmark
  git_branch: main
command: |
  cd diffusion-benchmark
  pip install -r requirements.txt
  composer benchmark.py \
    --wandb_name test-laion-benchmark \
    --wandb_project diffusion-synth-benchmark \
    --use_ema \
    --use_fused_layernorm \
    --use_fused_groupnorm \
    --device_train_microbatch_size 16 \
    --use_synth_data
